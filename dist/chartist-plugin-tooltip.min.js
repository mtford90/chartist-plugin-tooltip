/* chartist-plugin-tooltip 0.0.17
 * Copyright Â© 2016 Markus Padourek
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(a,b){"function"==typeof define&&define.amd?define(["chartist"],function(c){return a.returnExportsGlobal=b(c)}):"object"==typeof exports?module.exports=b(require("chartist")):a["Chartist.plugins.tooltips"]=b(Chartist)}(this,function(a){return function(a,b,c){"use strict";function d(a){return a.class?"chartist-tooltip "+a.class:"chartist-tooltip"}function e(a){g(a,"tooltip-show")||(a.className=a.className+" tooltip-show")}function f(a){var b=new RegExp("tooltip-show\\s*","gi");a.className=a.className.replace(b,"").trim()}function g(a,b){return(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")>-1}function h(a,b){do a=a.nextSibling;while(a&&!g(a,b));return a}function i(a){return a.innerText||a.textContent}var j={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!1,class:void 0,pointClass:"ct-point",getTooltipClass:null};c.plugins=c.plugins||{},c.plugins.tooltip=function(k){return k=c.extend({},j,k),function(j){function l(a,b,c){o.addEventListener(a,function(a){b&&!g(a.target,b)||c(a)})}function m(b){q=q||p.offsetHeight,r=r||p.offsetWidth;var c,d,e=-r/2+k.tooltipOffset.x,f=-q+k.tooltipOffset.y;if(k.appendToBody)p.style.top=b.pageY+f+"px",p.style.left=b.pageX+e+"px";else{var g=o.getBoundingClientRect(),h=b.pageX-g.left-a.pageXOffset,i=b.pageY-g.top-a.pageYOffset;!0===k.anchorToPoint&&b.target.x2&&b.target.y2&&(c=parseInt(b.target.x2.baseVal.value),d=parseInt(b.target.y2.baseVal.value)),p.style.top=(d||i)+f+"px",p.style.left=(c||h)+e+"px"}}var n=k.pointClass;j instanceof c.Bar?n="ct-bar":j instanceof c.Pie&&(n=j.options.donut?"ct-slice-donut":"ct-slice-pie");var o=j.container,p=o.querySelector(".chartist-tooltip");p||(p=b.createElement("div"),p.className=d(k),k.appendToBody?b.body.appendChild(p):o.appendChild(p));var q=p.offsetHeight,r=p.offsetWidth;f(p),l("mouseover",n,function(a){var f=a.target,g="",l=j instanceof c.Pie?f:f.parentNode,n=l?f.parentNode.getAttribute("ct:meta")||f.parentNode.getAttribute("ct:series-name"):"",o=f.getAttribute("ct:meta")||n||"",s=!!o,t=f.getAttribute("ct:value");const u={point:f,seriesName:n};if(p.className=d(k),k.getTooltipClass&&"function"==typeof k.getTooltipClass){var v=k.getTooltipClass(o,t,u);p.className+=" "+v}if(k.transformTooltipTextFnc&&"function"==typeof k.transformTooltipTextFnc&&(t=k.transformTooltipTextFnc(t,u)),k.tooltipFnc&&"function"==typeof k.tooltipFnc)g=k.tooltipFnc(o,t,u);else{if(k.metaIsHTML){var w=b.createElement("textarea");w.innerHTML=o,o=w.value}if(o='<span class="chartist-tooltip-meta">'+o+"</span>",s)g+=o+"<br>";else if(j instanceof c.Pie){var x=h(f,"ct-label");x&&(g+=i(x)+"<br>")}t&&(k.currency&&(t=void 0!=k.currencyFormatCallback?k.currencyFormatCallback(t,k):k.currency+t.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),t='<span class="chartist-tooltip-value">'+t+"</span>",g+=t)}g&&(p.innerHTML=g,m(a),e(p),q=p.offsetHeight,r=p.offsetWidth)}),l("mouseout",n,function(){f(p)}),l("mousemove",null,function(a){!1===k.anchorToPoint&&m(a)})}}}(window,document,a),a.plugins.tooltips});
//# sourceMappingURL=chartist-plugin-tooltip.min.js.map